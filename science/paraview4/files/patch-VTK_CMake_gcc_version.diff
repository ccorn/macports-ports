--- VTK/CMake/vtkCompilerExtras.cmake.orig	2017-10-10 02:02:44.000000000 +0200
+++ VTK/CMake/vtkCompilerExtras.cmake	2017-10-10 02:10:55.000000000 +0200
@@ -23,14 +23,14 @@ if(CMAKE_COMPILER_IS_GNUCXX)
   endif()
 
   # Now check if we can use visibility to selectively export symbols
-  execute_process(COMMAND ${CMAKE_C_COMPILER} --version
+  execute_process(COMMAND ${CMAKE_C_COMPILER} --version | sed 1q
     OUTPUT_VARIABLE _gcc_version_info
     ERROR_VARIABLE _gcc_version_info)
 
-  string (REGEX MATCH "[345]\\.[0-9]\\.[0-9]"
+  string (REGEX MATCH "[3-9]\\.[0-9]\\.[0-9]"
     _gcc_version "${_gcc_version_info}")
   if(NOT _gcc_version)
-    string (REGEX REPLACE ".*\\(GCC\\).* ([34]\\.[0-9]) .*" "\\1.0"
+    string (REGEX REPLACE ".*\\(GCC\\).* ([3-9]\\.[0-9]) .*" "\\1.0"
       _gcc_version "${_gcc_version_info}")
   endif()
 
--- VTK/CMake/GenerateExportHeader.cmake.orig	2014-01-11 15:02:05.000000000 +0100
+++ VTK/CMake/GenerateExportHeader.cmake	2017-10-10 02:18:40.000000000 +0200
@@ -163,15 +163,15 @@ endmacro()
 macro(_test_compiler_hidden_visibility)
 
   if(CMAKE_COMPILER_IS_GNUCXX)
-    execute_process(COMMAND ${CMAKE_C_COMPILER} --version
+    execute_process(COMMAND ${CMAKE_C_COMPILER} --version | sed 1q
       OUTPUT_VARIABLE _gcc_version_info
       ERROR_VARIABLE _gcc_version_info)
-    string(REGEX MATCH "[345]\\.[0-9]\\.[0-9]"
+    string(REGEX MATCH "[3-9]\\.[0-9]\\.[0-9]"
       _gcc_version "${_gcc_version_info}")
     # gcc on mac just reports: "gcc (GCC) 3.3 20030304 ..." without the
     # patch level, handle this here:
     if(NOT _gcc_version)
-      string(REGEX REPLACE ".*\\(GCC\\).* ([34]\\.[0-9]) .*" "\\1.0"
+      string(REGEX REPLACE ".*\\(GCC\\).* ([3-9]\\.[0-9]) .*" "\\1.0"
         _gcc_version "${_gcc_version_info}")
     endif()
 
