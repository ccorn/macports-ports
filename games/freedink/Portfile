# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:filetype=tcl:et:sw=4:ts=4:sts=4

PortSystem              1.0
name                    freedink
version                 1.08.4
epoch                   20141022
revision                0
categories              games
platforms               darwin
maintainers             gmail.com:verginegiovanni
description             FreeDink is a portable and enhanced version of the Dink Smallwood game engine.
long_description        Dink Smallwood is an adventure/role-playing game, similar to Zelda, \
                        made by RTsoft. Besides twisted humour, it includes the actual game editor, \
                        allowing players to create hundreds of new adventures called Dink Modules \
                        or D-Mods for short.
homepage                http://www.freedink.org
platforms               darwin
master_sites            https://ftp.gnu.org/gnu/freedink/
distname                ${name}-[regsub {\.} ${version} {}]
checksums               md5 4caccc9235ef68b66bdf4b9174f0af81 \
                        sha1 b487b7d0bb56c83e9cf14b903b89a3f8fca99fdc \
                        rmd160 40c6cec01e64c27352c7fc831e7c3d820a7c9ff7 \
                        sha256 82cfb2e019e78b6849395dc4750662b67087d14f406d004f6d9e39e96a0c8521
depends_build           port:pkgconfig port:check
depends_lib             port:libsdl \
                        port:libsdl_image \
                        port:libsdl_gfx \
                        port:libsdl_ttf \
                        port:libsdl_mixer \
                        port:libffi \
                        port:libzip \
                        port:fontconfig
depends_run             port:freedink-data
patchfiles              patch-configure.diff \
                        patch-src-paths.c.diff

post-patch {
        reinplace s|@PREFIX@|${prefix}|g ${worksrcpath}/src/paths.c
}

configure.args      --disable-sdltest
